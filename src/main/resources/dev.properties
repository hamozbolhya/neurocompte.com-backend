server.address=0.0.0.0
spring.application.name=PracticeFileHandler
spring.datasource.url=jdbc:postgresql://localhost:5432/Pacioli
spring.datasource.username=postgres
spring.datasource.password=hmz12@BO
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update

# Enable the same logging levels you see in development
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.com.pacioli=DEBUG
logging.level.org.hibernate.SQL=WARN
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=WARN

# Use the custom logback configuration
logging.config=classpath:logback-spring.xml

# Logs Directory Configuration - Development
logs.dir=/Users/hamzaboulahia/perso/LOGS
#logs.dir=C:\PACIOLI\LOGS

# Multipart Configuration
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# File Upload Directory
file.upload.dir=/Users/hamzaboulahia/perso/pacioli_files/
file.convert.pdf-to-image=false
#file.upload.dir=C:\PACIOLI\pacioli_files

# AI Service Configuration
ai.service.url= https://qa8t1a0hpa.execute-api.us-east-1.amazonaws.com/dev/invoice/
ai.service.api-key=u4d9s6oPlh8BGnlfFkT4P1iuZKKP9heZ5uvJ57pL
ai.service.base-url= https://krj9y1gdn9.execute-api.us-east-1.amazonaws.com/dev/company

# JWT Configuration
jwt.secret=c1194df3f35adf875f7dc30d89f366492f184a4c0e84c32ce2c98eeb5574a5dd
jwt.expiration=30000000

# Cache analytics for 5 minutes
spring.cache.cache-names=adminAnalytics,adminAnalyticsPeriod
spring.cache.caffeine.spec=maximumSize=100,expireAfterWrite=3m

# Exchange Rate API
#currency.api.key=8b8b51d37e2141fdabafb15036e10788
currency.api.key=c30f7be26bab4be293cc351c7761ea6b

# Histoire AI Configuration
histoire.ai.api-key=u4d9s6oPlh8BGnlfFkT4P1iuZKKP9heZ5uvJ57pL
histoire.ai.base-url=https://qa8t1a0hpa.execute-api.us-east-1.amazonaws.com/dev/history

# Bank API Configuration
bank.api.url=https://i009ziug6k.execute-api.us-east-1.amazonaws.com/dev/bank
bank.api.stage=dev
bank.api.max-file-size=10MB
bank.api.allowed-extensions=pdf,jpeg,jpg,png

# Batch Processing Configuration
batch.processing.queue-capacity=100

batch.processing.batch-size=50
batch.processing.max-retries=4
batch.processing.retry-delay-ms=300000
batch.processing.normal.retry-delay-ms=30000


# HikariCP Configuration
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.connection-test-query=SELECT 1
spring.datasource.hikari.validation-timeout=5000
spring.datasource.hikari.leak-detection-threshold=60000

# Adjust either connection pool or thread pool
# Option A: Increase connection pool
spring.datasource.hikari.maximum-pool-size=50

# Option B: Reduce batch processing threads
batch.processing.thread-pool-size=10
batch.processing.core-pool-size=5
batch.processing.max-pool-size=20

# JDBC connection settings
spring.datasource.hikari.connection-timeout=60000
